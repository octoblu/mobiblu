<div ng-app="messagesApp">

    <div ng-controller="MessageCtrl" ng-init="init()">

        <h3 class="page-title"><i class='fa fa-comments'></i> Message Devices</h3>

        <div class="input-group">
            Select Device or Enter UUID:
            <br />
            <br />
            <div class="">
                <select ng-model="device" style="height: 40px;" ng-options="device.name for device in devices" class="form-control" id="device"></select>
            </div>
            <div ng-if="subdevices.length === 0">
                <div class="input-row text-center subtile">-- OR --</div>
                <input type="text" ng-model="sendUuid" placeholder="UUID..." />
            </div>
            <hr>

            <div ng-if="subdevices">
                Select a Gateway Subdevice:
                <br />
                <br />
                <select ng-model="subdevice" style="height: 40px;" ng-options="subdevice.name for subdevice in subdevices" class="form-control" id="subdevice"></select>
                <br />
                <br />
            </div>

            <div ng-if="schema">
                <schema-editor control="schemaEditor" schema="schema" allow-json-edit="true" additional-properties="true"></schema-editor>
            </div>

            <hr>
            <div ng-if="subdevices.length === 0">
                <textarea  rows="3" ng-model="sendText" placeholder="Message..."></textarea>
                <hr>
            </div>

            <button ng-click="sendMessage()" class="btn btn-positive btn-outlined btn-block">Send</button>

        </div>


    </div>

</div>
