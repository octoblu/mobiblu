<div ng-app="messagesApp">

    <div ng-controller="MessageCtrl" ng-init="init()">

        <h3 class="page-title"><i class='fa fa-magic'></i> Message Devices</h3>
        <span class="content-padding" style="color:green;">{{messageOutput}}</span>

        <br />


        <h1 class="text-center" ng-show="loading" id="loading"><i class="fa fa-spinner fa-spin" ></i></h1>

        <div class="input-group" ng-hide="loading">
            Select Device or Enter UUID:
            <br />
            <br />
            <div class="">
                <!-- <select ng-model="device" ng-options="device.name for device in devices" class="form-control"></select> -->
                <select ng-model="device" style="height: 40px;" ng-options="device.name for device in devices" class="form-control" id="device" ng-change="getSubdevices(device)">
                </select>

            </div>
            <div class="input-row">OR</div>
            <input size="40" ng-model="sendUuid" class="form-control" placeholder="UUID">
            <br />
            <br />

            <div ng-show="subdevices">
                Select a Gateway Subdevice:
                <br />
                <br />
                <select ng-model="subdevice" style="height: 40px;" ng-options="subdevice.name for subdevice in subdevices" class="form-control" id="subdevice" ng-change="getSchema(device, subdevice)"></select>
                <br />
                <br />
            </div>

            <div ng-show="schema">
                <div id="device-msg-editor"></div>
            </div>

            <hr>

            <input type="text" placeholder="Message" ng-model="sendText" >
            <br>
            <br>
            <button ng-click="sendMessage()" class="btn btn-primary btn-block">Send</button>

        </div>


    </div>

</div>
