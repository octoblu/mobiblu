<div>

    <div ng-controller="PluginCtrl" ng-init="loadSubdevice()">

        <div ng-include src="'/public/views/system/loading.html'"></div>

        <p class="content-padded">
        <h3>Device
            <span ng-click="editDevice()" class="pull-right">
                <span ng-hide="edit"><i class="fa fa-pencil-square-o"></i>&nbsp;Configure</span>
                <span ng-show="edit" ng-click="savePlugin()"><i class="fa fa-check-square-o"></i>&nbsp;Done</span>
            </span>
        </h3></p>

        <form class="input-group" ng-show="edit">

            <div ng-show="subdevice">
                <input type="text" placeholder="Device Name" ng-model="subdevice.name">
                <div ng-show="schema">
                    <schema-editor control="schemaEditor" schema="schema" model="subdevice.options" allow-json-edit="true" additional-properties="true"></schema-editor>
                </div>
                <button class="btn btn-success btn-block btn-outlined" ng-click="savePlugin()">Save</button>
                <button class="btn btn-block btn-outlined" ng-show="isDeveloper" ng-click="initDevice(subdevice)">Re-Initialize</button>
                <button class="btn btn-negative btn-block btn-outlined" ng-click="deleteDevice()">Delete</button>
            </div>

        </form>

        <hr>

        <div ng-include src="'/public/views/system/activity.html'"></div>

    </div>

</div>
