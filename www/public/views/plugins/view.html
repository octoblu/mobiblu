<div>

    <div ng-controller="PluginCtrl" ng-init="findOne()">

        <div ng-include src="'/public/views/system/loading.html'"></div>

        <p class="content-padded">Viewing {{ plugin.name }}</p>

        <form class="input-group">
            <label>Enable Plugin</label>
            <div class="input-row">
                <div ng-model="enabled" class="toggle pull-right" ng-class="{ active : plugin.enabled }" ng-click="toggleEnabled()">
                    <div class="toggle-handle"></div>
                </div>
            </div>

            <div class="card" >
                <ul class="table-view" ng-show="plugin.subdevices">
                    <li class="table-view-cell" ng-repeat="device in plugin.subdevices track by $index" ng-show="device.name.length" ng-click="goToDevice(device)">
                        {{ device.name }}
                    </li>
                </ul>
                <ul class="table-view" ng-hide="plugin.subdevices">
                    <li class="table-view-cell">
                        No Installed Devices
                    </li>
                </ul>
            </div>

            <div ng-hide="edit">
                <message-grapher class="device-messages" activity="true" device="subdevice.type"></message-grapher>
            </div>

            <button class="btn btn-success btn-block btn-outlined" ng-click="addDevice()">Add Device</button>
            <button class="btn btn-block btn-outlined" ng-show="isDeveloper" ng-click="initPlugin(plugin)">Re-Initialize</button>
            <button class="btn btn-block btn-outlined" ng-click="redownload()">Update</button>

            <button class="btn btn-negative btn-block btn-outlined" ng-click="removePlugin()">Remove Plugin</button>
        </form>

    </div>

</div>
